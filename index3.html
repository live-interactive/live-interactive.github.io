<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script src="https://cdn.jsdelivr.net/gh/hiukim/mind-ar-js@0.3.1/dist/mindar.prod.js"></script>
    <script>
        AFRAME.registerComponent('videohandler', {
            init: function () {
                var marker = this.el;
                this.vid = document.querySelector("#vid");

                marker.addEventListener('markerFound', function () {
                    this.toggle = true;
                    this.vid.play();
                }.bind(this));

                marker.addEventListener('markerLost', function () {
                    this.toggle = false;
                    this.vid.pause();
                }.bind(this));
            },
        });
    </script>
  </head>
  <body>
    <a-scene mindar="imageTargetSrc: assets/targets.mind; showStats: true;" color-space="sRGB" renderer="colorManagement: true, physicallyCorrectLights" vr-mode-ui="enabled: false" device-orientation-permission-ui="enabled: false">
      <a-assets>
        <video
        id="vid"
        src="assets/logoloop.mp4"
        preload="auto"
        response-type="arraybuffer"
        loop
        crossorigin
        webkit-playsinline
        autoplay
        muted
        playsinline
    ></video>
    <a-asset-item
    id="animated-asset"
    src="assets/asset.gltf"
></a-asset-item>
        <img id="card" src="https://cdn.jsdelivr.net/gh/hiukim/mind-ar-js@0.3.1/examples/assets/card-example/card.png" />
        <a-asset-item id="avatarModel" src="https://cdn.jsdelivr.net/gh/hiukim/mind-ar-js@0.3.1/examples/assets/card-example/softmind/scene.gltf"></a-asset-item>
      </a-assets>
    

      <a-camera position="0 0 0" look-controls="enabled: false"></a-camera>
    
      <a-entity mindar-image-target="targetIndex: 0">
        <!-- <a-plane src="#card" position="0 0 0" height="0.552" width="1" rotation="0 0 0"></a-plane> -->
        <!-- <a-gltf-model rotation="0 0 0 " position="0 0 0.1" scale="0.005 0.005 0.005" src="#avatarModel" animation="property: position; to: 0 0.1 0.1; dur: 1000; easing: easeInOutQuad; loop: true; dir: alternate"> -->
            <a-video
            src="#vid"
            scale="2 1.6 1"
            position="0 0.1 0"
            rotation="-90 0 0"
            class="clickable"
            gesture-handler
        ></a-video>
        <a-entity
            id="bowser-model"
            scale="0.6418584213006208 0.6418584213006208 0.6418584213006208"
            animation-mixer="loop: repeat"
            gltf-model="#animated-asset"
            position="2 2 0"
        ></a-entity>
      </a-entity>
    </a-scene>
  </body>
</html>